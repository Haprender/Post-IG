HTML
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Post IG - Haprender</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-bg: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            --accent-color: #d4af37;
            --text-color: #2c3e50;
        }

        body { 
            font-family: 'Poppins', sans-serif; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            background: #e0e0e0; 
            padding: 10px; 
            margin: 0;
        }

        /* Contenedor del Post Responsivo */
        #canvas-post {
            width: 100%;
            max-width: 500px;
            aspect-ratio: 1 / 1;
            background: var(--primary-bg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 40px;
            box-sizing: border-box;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            border: 10px solid rgba(255,255,255,0.5);
            transition: all 0.3s ease;
        }

        /* Formatos */
        .format-story { 
            max-width: 350px !important; 
            aspect-ratio: 9 / 16 !important; 
        }
        .format-story #frase-display { font-size: 32px; }

        .logo-container { position: absolute; top: 30px; width: 100px; display: flex; justify-content: center; z-index: 2; }
        .logo-container img { width: 100%; }

        #frase-display {
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            color: var(--text-color);
            line-height: 1.4;
            max-width: 90%;
            z-index: 2;
        }

        .divider { width: 40px; height: 4px; background: var(--accent-color); margin-top: 20px; z-index: 2; }
        .username { position: absolute; bottom: 30px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; color: #888; z-index: 2; }

        /* Panel de Controles Responsivo */
        .controls { 
            margin-top: 20px; 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            width: 100%; 
            max-width: 500px; 
            box-sizing: border-box; 
        }

        .extra-controls { 
            display: flex; 
            flex-direction: column; 
            gap: 15px; 
            margin-bottom: 20px; 
        }

        @media (min-width: 480px) {
            .extra-controls { flex-direction: row; justify-content: space-between; align-items: center; }
        }

        .color-picker { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
        .color-dot { width: 30px; height: 30px; border-radius: 50%; cursor: pointer; border: 2px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.1); }

        textarea { width: 100%; height: 80px; margin: 10px 0; padding: 10px; box-sizing: border-box; font-family: inherit; border: 1px solid #ddd; border-radius: 5px; }
        button { background: #0095f6; color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%; margin-top: 10px; }
        button:hover { background: #0077c2; }
        
        .format-btns button { width: auto; background: #555; padding: 8px 15px; font-size: 12px; }
    </style>
</head>
<body>

    <div id="canvas-post">
        <div style="position: absolute; width: 92%; height: 92%; border: 1px solid rgba(0,0,0,0.05); pointer-events: none; z-index: 1;"></div>
        
        <div class="logo-container">
            <img src="Logo.png" alt="Logo">
        </div>
        
        <div id="frase-display">Escribe aquí tu frase impactante para Instagram</div>
        <div class="divider"></div>

        <div class="username">@Haprender_</div>
    </div>

    <div class="controls">
        <h3>Editor de Contenido</h3>
        
        <div class="extra-controls">
            <div class="format-btns">
                <label>Formato:</label><br>
                <button type="button" onclick="changeFormat('post')">Cuadrado</button>
                <button type="button" onclick="changeFormat('story')">Story</button>
            </div>
            
            <div>
                <label>Fondo:</label>
                <div class="color-picker">
                    <div class="color-dot" style="background: #f8f9fa;" onclick="changeColor('#f8f9fa', '#2c3e50', 'Logo.png')"></div> 
                    <div class="color-dot" style="background: #1a2a6c;" onclick="changeColor('#1a2a6c', '#ffffff', 'Logo-blanco.png')"></div> 
                    <div class="color-dot" style="background: #27ae60;" onclick="changeColor('#27ae60', '#ffffff', 'Logo-verde.png')"></div>
                    
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <input type="color" id="custom-bg-color" value="#f8f9fa" style="width: 30px; height: 30px; border: none; cursor: pointer; background: none;">
                    </div>
                </div>
            </div>
        </div>

        <label>Texto de la frase:</label>
        <textarea id="input-text" placeholder="Escribe tu frase aquí..."></textarea>
        
        <label>Tu usuario:</label>
        <input type="text" id="input-user" value="@Haprender_" style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 5px;">
        
        <button onclick="downloadImage()" style="background: #28a745;">Descargar Imagen</button>
    </div>

    <script>
        const inputText = document.getElementById('input-text');
        const inputUser = document.getElementById('input-user');
        const displayFrase = document.getElementById('frase-display');
        const displayUser = document.querySelector('.username');
        const customBgInput = document.getElementById('custom-bg-color');

        inputText.addEventListener('input', () => {
            displayFrase.innerText = inputText.value || "Escribe aquí tu frase impactante";
        });

        inputUser.addEventListener('input', () => {
            displayUser.innerText = inputUser.value;
        });

        function changeFormat(type) {
            const canvas = document.getElementById('canvas-post');
            if (type === 'story') {
                canvas.classList.add('format-story');
            } else {
                canvas.classList.remove('format-story');
            }
        }

        function changeColor(bgColor, textColor, logoFile) {
            const canvas = document.getElementById('canvas-post');
            const frase = document.getElementById('frase-display');
            const user = document.querySelector('.username');
            const divider = document.querySelector('.divider');
            const logoImg = document.querySelector('.logo-container img');

            canvas.style.background = bgColor;
            frase.style.color = textColor;
            user.style.color = textColor;
            if(logoFile) { logoImg.src = logoFile; }

            divider.style.background = (textColor === '#ffffff') ? '#d4af37' : textColor;
        }

        function downloadImage() {
            const post = document.getElementById('canvas-post');
            html2canvas(post, {
                scale: 2,
                backgroundColor: null,
                useCORS: true
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'post-haprender.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }

        customBgInput.addEventListener('input', (e) => {
            const selectedColor = e.target.value;
            const rgb = hexToRgb(selectedColor);
            const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;

            if (brightness < 128) {
                changeColor(selectedColor, '#ffffff', 'Logo-blanco.png');
            } else {
                changeColor(selectedColor, '#2c3e50', 'Logo.png');
            }
        });

        function hexToRgb(hex) {
            var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }
    </script>
</body>
</html>











